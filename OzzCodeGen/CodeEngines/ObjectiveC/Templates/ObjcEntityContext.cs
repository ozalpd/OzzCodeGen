// ------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version: 14.0.0.0
//  
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
// ------------------------------------------------------------------------------
namespace OzzCodeGen.CodeEngines.ObjectiveC.Templates
{
    using System.Linq;
    using System.Text;
    using System.Collections.Generic;
    using OzzUtils;
    using System;
    
    /// <summary>
    /// Class to produce the template output
    /// </summary>
    
    #line 1 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("Microsoft.VisualStudio.TextTemplating", "14.0.0.0")]
    public partial class ObjcEntityContext : BaseObjcClassImpl
    {
#line hidden
        /// <summary>
        /// Create the template output
        /// </summary>
        public override string TransformText()
        {
            
            #line 7 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
 WriteDeclataritons(); 
            
            #line default
            #line hidden
            this.Write("#import \"OzzDictionaryExtension.h\"\r\n\r\n//Do not modify this file! Generate it agai" +
                    "n!\r\n@interface Base");
            
            #line 11 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(ObjectiveCName));
            
            #line default
            #line hidden
            this.Write("()\r\n@property (nonatomic) NSInteger recordCount;\r\n@end\r\n\r\n@implementation Base");
            
            #line 15 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(ObjectiveCName));
            
            #line default
            #line hidden
            this.Write("\r\n");
            
            #line 16 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
 
    if (CodeEngine.BaseEntityContext == "NSObject")
    { 
            
            #line default
            #line hidden
            this.Write("- (id)initWithContext:(OzzSqliteHelper *)context andWithBaseUrl:(NSString *)baseU" +
                    "rl\r\n{\r\n    self = [super init];\r\n    if(self){\r\n        _dbContext = dbContext;\r" +
                    "\n\t\t_baseUrl = baseUrl;\r\n\t\t_recordCount = -1;\r\n    }\r\n    return self;\r\n}\r\n");
            
            #line 29 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  } else { 
            
            #line default
            #line hidden
            this.Write("- (id)initWithContext:(OzzSqliteHelper *)dbContext andWithBaseUrl:(NSString *)bas" +
                    "eUrl\r\n{\r\n    self = [super initWithContext:dbContext andWithBaseUrl:baseUrl];\r\n " +
                    "   if (self) {\r\n        self.recordCount = -1;\r\n    }\r\n    return self;\r\n}\r\n");
            
            #line 38 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  } 
            
            #line default
            #line hidden
            this.Write(@"- (void)dealloc
{
    self.delegate = nil;
#if !__has_feature(objc_arc)
    if(_colName){
        [_colName release];
    }
    if(_colNr){
        [_colNr release];
    }
    [super dealloc];
#endif
}

- (void)finalize
{
    _delegate = nil;
    _colName = nil;
    _colNr = nil;
    [super finalize];
}

#pragma mark - Property Implementations
- (NSInteger)recordCount
{
    if (_recordCount<0) {
        _recordCount = [self getRecordCount];
#if(DEBUG==1)
        NSLog(@""DB has %ld %@ records"", (long)_recordCount, self.tableName);
#endif
    }
    return _recordCount;
}
@synthesize recordCount = _recordCount;

#pragma mark - Local DB - Read methods
- (NSInteger)getRecordCount
{
    return [self.dbContext getRecordCountFromTable:self.tableName];
}

- (");
            
            #line 80 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(@" *)loadById:(NSInteger)uniqueId
{
    NSString *query = [self selectStatementWithFilter:
                       [NSString stringWithFormat:@""Id = %ld"", (long)uniqueId]];
    
    self.dataSet = [self loadByQuery:query];
    return [self.dataSet lastObject];
}

- (NSArray *)loadAll
{
    self.dataSet = [self loadByQuery:self.selectStatement];
    return self.dataSet;
}

");
            
            #line 95 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
    foreach(var fKey in ForeignKeyProperties.OrderBy(f => f.Name))
    { 
            
            #line default
            #line hidden
            this.Write("- (NSArray *)loadBy");
            
            #line 97 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(fKey.Name));
            
            #line default
            #line hidden
            this.Write(":(NSInteger)");
            
            #line 97 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(fKey.Name.ToCamelCase()));
            
            #line default
            #line hidden
            this.Write("\r\n{\r\n    NSString *query = [self selectStatementWithFilter:\r\n                    " +
                    "   [NSString stringWithFormat:@\"%@ = %ld\",\r\n                        self.colName" +
                    ".");
            
            #line 101 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(fKey.Name.ToCamelCase()));
            
            #line default
            #line hidden
            this.Write(",\r\n                        (long)");
            
            #line 102 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(fKey.Name.ToCamelCase()));
            
            #line default
            #line hidden
            this.Write("]];\r\n\r\n    self.dataSet = [self loadByQuery:query];\r\n    return self.dataSet;\r\n}\r" +
                    "\n");
            
            #line 107 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
 } 
            
            #line default
            #line hidden
            this.Write(@"- (NSArray *)loadByQuery:(NSString *)query
{
    BOOL isdbClosed = !self.dbContext.isDbOpen;
    if (isdbClosed) {
        [self.dbContext openDb];
    }
    NSMutableArray *array = [[NSMutableArray alloc] init];
    sqlite3_stmt *statement = [self.dbContext prepareStatement:query];
    
    if (statement)
    {
        while (sqlite3_step(statement) == SQLITE_ROW)
        {
            [array addObject:[self getEntityFromStatement:statement]];
        }
        sqlite3_clear_bindings(statement);
        sqlite3_reset(statement);
        sqlite3_finalize(statement);
    }
    if (isdbClosed) {
        [self.dbContext closeDb];
    }

    return array;
}

#pragma mark - Local DB - Save (Create + Update) methods
- (int)save:(");
            
            #line 135 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" *)entity\r\n{\r\n    NSString *sqlStmt = [self saveStatement:entity];\r\n    int i = [" +
                    "self.dbContext executeQuery:sqlStmt];\r\n    [self.delegate onEntitySaved:entity t" +
                    "ypeOfEntity:");
            
            #line 139 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 139 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            
            #line 139 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write("];\r\n    self.recordCount = -1; //force to execute count query\r\n\r\n    return i;\r\n}" +
                    "\r\n\r\n- (int)insert:(");
            
            #line 145 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" *)entity\r\n{\r\n    NSString *sqlStmt = [self insertStatement:entity];\r\n    int i =" +
                    " [self.dbContext executeQuery:sqlStmt];\r\n");
            
            #line 149 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
 
	ObjcPropertySetting pkey = Entity.Properties.Where(p => p.IsKey).FirstOrDefault();
	if(pkey!=null){ 
            
            #line default
            #line hidden
            this.Write("\tentity.");
            
            #line 152 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(pkey.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" = sqlite3_last_insert_rowid(self.dbContext.dbHandler);\r\n");
            
            #line 153 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
 } 
            
            #line default
            #line hidden
            this.Write("    [self.delegate onEntitySaved:entity typeOfEntity:");
            
            #line 154 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 154 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            
            #line 154 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write("];\r\n    self.recordCount = -1; //force to execute count query\r\n\r\n    return i;\r\n}" +
                    "\r\n\r\n- (NSString *)saveStatement:(");
            
            #line 160 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" *)entity\r\n{\r\n    NSString *stmt = ");
            
            #line 162 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(GetInsertStatement(true)));
            
            #line default
            #line hidden
            this.Write("\r\n    return stmt;\r\n}\r\n\r\n- (NSString *)insertStatement:(");
            
            #line 166 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" *)entity\r\n{\r\n    NSString *stmt = ");
            
            #line 168 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(GetInsertStatement()));
            
            #line default
            #line hidden
            this.Write("\r\n    return stmt;\r\n}\r\n\r\n#pragma mark - Local DB - Delete methods\r\n\r\n-(int)delete" +
                    "Entity:(");
            
            #line 174 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" *)entity\r\n{\r\n    if(entity == nil)\r\n    {\r\n        [self.delegate onFailToDelete" +
                    "Entity:nil\r\n                               sqliteResult:SQLITE_NOTFOUND\r\n       " +
                    "                        typeOfEntity:");
            
            #line 180 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 180 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            
            #line 180 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write("];\r\n        return SQLITE_NOTFOUND;\r\n    }\r\n\r\n    [self.delegate onDeletingEntity" +
                    ":entity\r\n                       typeOfEntity:");
            
            #line 185 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 185 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            
            #line 185 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write(@"];
    NSString *query = [NSString
                       stringWithFormat:@""Delete from %@ Where Id = %ld"",
                       self.tableName,
                       (long)entity.uniqueId];
    [self.dbContext openDb];
    int result = [self executeQuery:query];
    if(result == SQLITE_DONE)
    {
        [self.delegate onEntityDeleted:entity
                          typeOfEntity:");
            
            #line 195 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 195 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            
            #line 195 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write("];\r\n    }\r\n    else\r\n    {\r\n        [self.delegate onFailToDeleteEntity:entity\r\n " +
                    "                              sqliteResult:result\r\n                             " +
                    "  typeOfEntity:");
            
            #line 201 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 201 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            
            #line 201 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write("];\r\n    }\r\n    [self.dbContext closeDb];\r\n    self.recordCount = -1; //force to e" +
                    "xecute count query\r\n\r\n    return result;\r\n}\r\n\r\n- (int)deleteAll:(BOOL)fastDelete" +
                    "\r\n{\r\n    if(fastDelete)\r\n    {\r\n        [self.delegate onDeletingTypeOfEntities:" +
                    "");
            
            #line 213 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 213 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            
            #line 213 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write(@"];
        [self.dbContext openDb];
        NSString *query = [NSString stringWithFormat:@""Delete from %@"", self.tableName];
        int result = [self.dbContext executeQuery:query];
        [self.dbContext closeDb];
        [self.delegate onDeletedTypeOfEntities:");
            
            #line 218 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 218 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            
            #line 218 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write("];\r\n        self.recordCount = -1; //force to execute count query\r\n\r\n        retu" +
                    "rn result;\r\n    }\r\n    else\r\n    {\r\n        NSArray *array = [self loadByQuery:s" +
                    "elf.selectStatement];\r\n        return [self deleteArray:array];\r\n    }\r\n}\r\n");
            
            #line 229 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  foreach(var fKey in ForeignKeyProperties.OrderBy(f => f.Name))
    { 
            
            #line default
            #line hidden
            this.Write("\r\n- (int)deleteBy");
            
            #line 232 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(fKey.Name));
            
            #line default
            #line hidden
            this.Write(":(NSInteger)");
            
            #line 232 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(fKey.Name.ToCamelCase()));
            
            #line default
            #line hidden
            this.Write(@" fastDelete:(BOOL)fastDelete
{
    if(fastDelete)
    {
        [self.dbContext openDb];
        NSString *query = [NSString
                           stringWithFormat:@""Delete from %@ Where %@ = %ld"",
                           self.tableName,
                           self.colName.");
            
            #line 240 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(fKey.Name.ToCamelCase()));
            
            #line default
            #line hidden
            this.Write(",\r\n                           (long)");
            
            #line 241 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(fKey.Name.ToCamelCase()));
            
            #line default
            #line hidden
            this.Write("];\r\n        int result = [self.dbContext executeQuery:query];\r\n        [self.dbCo" +
                    "ntext closeDb];\r\n        self.recordCount = -1; //force to execute count query\r\n" +
                    "\r\n        return result;\r\n    }\r\n    else\r\n    {\r\n        NSArray *array = [self" +
                    " loadBy");
            
            #line 250 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(fKey.Name));
            
            #line default
            #line hidden
            this.Write(":");
            
            #line 250 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(fKey.Name.ToCamelCase()));
            
            #line default
            #line hidden
            this.Write("];\r\n        return [self deleteArray:array];\r\n    }\r\n}\r\n");
            
            #line 254 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
 } 
            
            #line default
            #line hidden
            this.Write("\r\n- (int)deleteArray:(NSArray *)array\r\n{\r\n    int result = SQLITE_OK;\r\n    \r\n    " +
                    "for (");
            
            #line 260 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(@" *entity in array)
    {
        int i = [self deleteEntity:entity];
        if(!i == SQLITE_OK){
            result = i;
        }
    }
	self.recordCount = -1; //force to execute count query

    return result;
}

#pragma mark - Local DB - Helper methods
- (int)executeQuery:(NSString *)query
{
    sqlite3_stmt *statement = [self.dbContext prepareStatement:query];
    return sqlite3_step(statement);
}

- (NSString *)selectStatement
{
");
            
            #line 281 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  if(OrderedProperties.Where(p => p.Name == "DisplayOrder").Any())
	{ 
            
            #line default
            #line hidden
            this.Write("    return [NSString\r\n            stringWithFormat:@\"Select %@ From %@ Order By %" +
                    "@ Asc\",\r\n            self.columnNames,\r\n            self.tableName,\r\n           " +
                    " self.colName.displayOrder];\r\n");
            
            #line 288 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  } else { 
            
            #line default
            #line hidden
            this.Write("    return [NSString stringWithFormat:@\"Select %@ From %@\", self.columnNames, sel" +
                    "f.tableName];\r\n");
            
            #line 290 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  } 
            
            #line default
            #line hidden
            this.Write("}\r\n\r\n- (NSString *)selectStatementWithFilter:(NSString *)filter\r\n{\r\n    if(filter" +
                    ")\r\n    {\r\n");
            
            #line 297 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  if(OrderedProperties.Where(p => p.Name == "DisplayOrder").Any())
	{ 
            
            #line default
            #line hidden
            this.Write("        return [NSString\r\n                stringWithFormat:@\"Select %@ From %@ Wh" +
                    "ere %@ Order By %@ Asc\",\r\n                self.columnNames,\r\n                sel" +
                    "f.tableName,\r\n                filter,\r\n                self.colName.displayOrder" +
                    "];\r\n");
            
            #line 305 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  } else { 
            
            #line default
            #line hidden
            this.Write("        return [NSString\r\n                stringWithFormat:@\"Select %@ From %@ Wh" +
                    "ere %@\",\r\n                self.columnNames,\r\n                self.tableName,\r\n  " +
                    "              filter];\r\n");
            
            #line 311 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  } 
            
            #line default
            #line hidden
            this.Write("    }\r\n    else\r\n    {\r\n        return [self selectStatement];\r\n    }\r\n}\r\n\r\n- (");
            
            #line 319 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" *)getEntityFromStatement:(sqlite3_stmt *)statement\r\n{\r\n    ");
            
            #line 321 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" *entity = [[");
            
            #line 321 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" alloc]init];\r\n\tColNr");
            
            #line 322 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write(" *colNr = self.colNr;\r\n");
            
            #line 323 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  foreach (var item in OrderedProperties) { 
            
            #line default
            #line hidden
            this.Write("    entity.");
            
            #line 324 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(item.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" = [self.dbContext ");
            
            #line 324 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(ReadFromSqliteStatement(item)));
            
            #line default
            #line hidden
            this.Write(":statement andWithColNr:colNr.");
            
            #line 324 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(item.ObjectiveCName));
            
            #line default
            #line hidden
            
            #line 324 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
 if(item.PropertyDefinition.IsTypeDateTime()){ 
            
            #line default
            #line hidden
            this.Write(" isTextColumn:NO");
            
            #line 324 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
 } 
            
            #line default
            #line hidden
            this.Write("];\r\n");
            
            #line 325 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  } 
            
            #line default
            #line hidden
            this.Write("\r\n    [self.delegate onGotEntityFromDb:entity typeOfEntity:");
            
            #line 327 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 327 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            
            #line 327 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write("];\r\n\r\n    return entity;\r\n}\r\n\r\n#pragma mark - NSDictionary Helper methods\r\n- (");
            
            #line 333 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" *)getEntityFromDictionary:(NSDictionary *)dictionary\r\n{\r\n    ");
            
            #line 335 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" *entity = [[");
            
            #line 335 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" alloc]init];\r\n\tColName");
            
            #line 336 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write(" *colName = self.colName;\r\n");
            
            #line 337 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  foreach (var item in OrderedProperties) { 
            
            #line default
            #line hidden
            this.Write("    entity.");
            
            #line 338 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(item.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" = [dictionary ");
            
            #line 338 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(DictionaryExtensionMethod(item)));
            
            #line default
            #line hidden
            this.Write(":colName.");
            
            #line 338 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(item.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write("];\r\n");
            
            #line 339 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  } 
            
            #line default
            #line hidden
            this.Write("\r\n    [self.delegate onGotEntity:entity fromJsonDictionary:dictionary typeOfEntit" +
                    "y:");
            
            #line 341 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 341 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            
            #line 341 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write("];\r\n\r\n    return entity;\r\n}\r\n\r\n");
            
            #line 346 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  //That means we have a jsonContext
    if (CodeEngine.BaseEntityContext != "NSObject")
    { 
            
            #line default
            #line hidden
            this.Write("#pragma mark - Network methods\r\n");
            
            #line 350 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
 if(Entity.EntityDefinition.LetDownloadAll){ 
            
            #line default
            #line hidden
            this.Write("- (void)downloadAll\r\n{\r\n    if(![self.delegate isDataLoading])\r\n\t{\r\n        [self" +
                    ".jsonContext loadData:@\"Get");
            
            #line 355 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write("List\"];\r\n    }\r\n}\r\n");
            
            #line 358 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
 } 
            
            #line default
            #line hidden
            this.Write("- (void)downloadById:(NSInteger)uniqueId\r\n{\r\n    if(![self.delegate isDataLoading" +
                    "])\r\n\t{\r\n        [self.jsonContext loadData:[NSString stringWithFormat:@\"Get");
            
            #line 363 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write(@"/%ld"", (long)uniqueId]];
    }
}

#pragma mark - JsonHelperDelegate

- (void)onJsonArrayLoaded:(NSArray *)jsonArray
{
    NSMutableArray *array = [[NSMutableArray alloc] init];
    BOOL beforeSave = true;
    for (NSDictionary *dict in jsonArray)
	{
        ");
            
            #line 375 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(@" *entity = [self getEntityFromDictionary:dict];
        if((self.autoSaveDownloaded) && [self validateEntiy:entity])
		{
            if (beforeSave && self.fullUpdateMode)
			{
                [self deleteAll:true];
                beforeSave = false;
                [self.dbContext openDb];
                [self.dbContext openTransaction];
            }
            [self save:entity];
        }
        [array addObject:entity];
    }
    
    if (self.autoSaveDownloaded)
    {
        [self.dbContext closeDb];
        self.fullUpdateMode = false;
    }
    self.dataSet = array;
    [self.delegate onArrayLoaded:array typeOfEntity:");
            
            #line 396 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 396 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            
            #line 396 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write("];\r\n}\r\n\r\n- (void)onJsonDictionaryLoaded:(NSDictionary *)jsonDict\r\n{\r\n    ");
            
            #line 401 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" *entity = [self getEntityFromDictionary:jsonDict];\r\n    if(self.autoSaveDownload" +
                    "ed){\r\n        [self save:entity];\r\n    }\r\n    [self.delegate onEntityLoaded:enti" +
                    "ty typeOfEntity:");
            
            #line 405 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 405 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            
            #line 405 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write(@"];
}

- (void)onJsonLoading
{
    [self.delegate onDataLoading];
}

- (void)onError:(NSString *)errorMsg
{
    [self.delegate onError:errorMsg];
    [super onError:errorMsg];
}
- (void)onParseError:(NSString *)errorMsg
{
    if([self.delegate respondsToSelector:@selector(didReceiveData:)]){
        [self.delegate onParseError:errorMsg];
    }
    [super onParseError:errorMsg];
}

- (void)didReceiveResponse:(NSURLResponse *)response
{
    if([self.delegate respondsToSelector:@selector(didReceiveData:)]){
        [self.delegate didReceiveResponse:response];
    }
}
- (void)didReceiveData:(NSData *)data
{
    if([self.delegate respondsToSelector:@selector(didReceiveData:)]){
        [self.delegate didReceiveData:data];
    }
}

#pragma mark - Entity Methods
- (BOOL)validateEntiy:(");
            
            #line 440 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" *)entity\r\n{\r\n    return ");
            
            #line 442 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  foreach (var item in NonNullableProperties) { 
            
            #line default
            #line hidden
            this.Write("entity.");
            
            #line 442 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(GetValidationTest(item)));
            
            #line default
            #line hidden
            this.Write(" &&\r\n\t       ");
            
            #line 443 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  } 
            
            #line default
            #line hidden
            this.Write("true;\r\n}\r\n\r\n");
            
            #line 446 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  } 
            
            #line default
            #line hidden
            this.Write("#pragma mark - Columns\r\n- (ColName");
            
            #line 448 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write(" *)colName\r\n{\r\n    if(_colName == nil){\r\n        _colName = [[ColName");
            
            #line 451 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write(" alloc] init];\r\n    }\r\n    return _colName;\r\n}\r\n@synthesize colName = _colName;\r\n" +
                    "\r\n- (ColNr");
            
            #line 457 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write(" *)colNr\r\n{\r\n    if(_colNr == nil){\r\n        _colNr = [[ColNr");
            
            #line 460 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write(" alloc] init];\r\n    }\r\n    return _colNr;\r\n}\r\n@synthesize colNr = _colNr;\r\n\r\n- (N" +
                    "SString *)columnNames\r\n{\r\n    return @\"");
            
            #line 468 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(ColumnNames));
            
            #line default
            #line hidden
            this.Write("\";\r\n}\r\n- (NSString *)tableName\r\n{\r\n    return @\"");
            
            #line 472 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(StorageEntitySetting.TableName));
            
            #line default
            #line hidden
            this.Write("\";\r\n}\r\n@end\r\n\r\n#pragma mark - ColName");
            
            #line 476 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write("\r\n@implementation ColName");
            
            #line 477 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write("\r\n");
            
            #line 478 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  foreach (var item in OrderedProperties)
    { 
            
            #line default
            #line hidden
            this.Write("- (NSString *)");
            
            #line 480 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(item.ObjectiveCName));
            
            #line default
            #line hidden
            this.Write(" { return @\"");
            
            #line 480 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(item.Name));
            
            #line default
            #line hidden
            this.Write("\"; }\r\n");
            
            #line 481 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  } 
            
            #line default
            #line hidden
            this.Write("@end\r\n\r\n#pragma mark - ColNr");
            
            #line 484 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write("\r\n@implementation ColNr");
            
            #line 485 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(Entity.Name));
            
            #line default
            #line hidden
            this.Write("\r\n");
            
            #line 486 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
  int i = 0;
    foreach (string col in HeaderTemplate.SqliteProperties)
    { 
            
            #line default
            #line hidden
            this.Write("- (int)");
            
            #line 489 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(col));
            
            #line default
            #line hidden
            this.Write(" { return ");
            
            #line 489 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(i));
            
            #line default
            #line hidden
            this.Write("; }\r\n");
            
            #line 490 "F:\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcEntityContext.tt"
 
        i++;
    } 
            
            #line default
            #line hidden
            this.Write("@end\r\n");
            return this.GenerationEnvironment.ToString();
        }
    }
    
    #line default
    #line hidden
}
