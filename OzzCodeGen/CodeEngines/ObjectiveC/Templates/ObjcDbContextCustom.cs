// ------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version: 16.0.0.0
//  
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
// ------------------------------------------------------------------------------
namespace OzzCodeGen.CodeEngines.ObjectiveC.Templates
{
    using System.Linq;
    using System.Text;
    using System.Collections.Generic;
    using OzzCodeGen.Definitions;
    using OzzUtils;
    using System;
    
    /// <summary>
    /// Class to produce the template output
    /// </summary>
    
    #line 1 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("Microsoft.VisualStudio.TextTemplating", "16.0.0.0")]
    public partial class ObjcDbContextCustom : BaseObjcClassImpl
    {
#line hidden
        /// <summary>
        /// Create the template output
        /// </summary>
        public override string TransformText()
        {
            
            #line 8 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 WriteDeclataritons(); 
            
            #line default
            #line hidden
            
            #line 9 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 
var entityTrackEnum = CodeEngine.Project.EnumDefinitions.FirstOrDefault(e => e.Name == CodeEngine.Project.EntityTrackEnum);
 
            
            #line default
            #line hidden
            this.Write("@interface ");
            
            #line 12 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(ObjectiveCName));
            
            #line default
            #line hidden
            this.Write("()\r\n\r\n@end\r\n\r\n@implementation ");
            
            #line 16 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(ObjectiveCName));
            
            #line default
            #line hidden
            this.Write("\r\n");
            
            #line 17 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
  
if(entityTrackEnum != null)
{
            
            #line default
            #line hidden
            this.Write("\r\n#pragma mark - Load from NSDictionary\r\n/*\r\n * Below method runs after loading a" +
                    "n entity\r\n * from an NSDictionary object\r\n */\r\n- (void)onGotEntity:(id)entity fr" +
                    "omJsonDictionary:(NSDictionary *)dictionary typeOfEntity:(");
            
            #line 26 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 26 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            this.Write(")entityType\r\n{\r\n");
            
            #line 28 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 WriteSwitchStatement(entityTrackEnum, "onGot", "", "fromJsonDictionary:dictionary"); 
            
            #line default
            #line hidden
            this.Write("}\r\n");
            
            #line 30 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 WriteMethods(entityTrackEnum, "onGot", "", "fromJsonDictionary:(NSDictionary *)dictionary"); 
            
            #line default
            #line hidden
            this.Write("\r\n#pragma mark - Load from Local Database\r\n/*\r\n * Below method runs after loading" +
                    " an entity\r\n * from local database\r\n */\r\n- (void)onGotEntityFromDb:(id)entity ty" +
                    "peOfEntity:(");
            
            #line 37 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 37 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            this.Write(")entityType\r\n{\r\n");
            
            #line 39 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 WriteSwitchStatement(entityTrackEnum, "onGot", "FromDb", ""); 
            
            #line default
            #line hidden
            this.Write("}\r\n");
            
            #line 41 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 WriteMethods(entityTrackEnum, "onGot", "FromDb", ""); 
            
            #line default
            #line hidden
            this.Write("\r\n#pragma mark - Save to Local Database\r\n/*\r\n * Below method runs after saving an" +
                    " entity\r\n * to local database\r\n */\r\n- (void)onEntitySaved:(id)entity typeOfEntit" +
                    "y:(");
            
            #line 48 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 48 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            this.Write(")entityType\r\n{\r\n");
            
            #line 50 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 WriteSwitchStatement(entityTrackEnum, "on", "Saved", ""); 
            
            #line default
            #line hidden
            this.Write("}\r\n");
            
            #line 52 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 WriteMethods(entityTrackEnum, "on", "Saved", ""); 
            
            #line default
            #line hidden
            this.Write("\r\n#pragma mark - Deleting from Local Database\r\n- (void)onDeletingEntity:(id)entit" +
                    "y typeOfEntity:(");
            
            #line 55 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 55 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            this.Write(")entityType\r\n{\r\n");
            
            #line 57 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 WriteSwitchStatement(entityTrackEnum, "onDeleting", "FromDb", ""); 
            
            #line default
            #line hidden
            this.Write("}\r\n");
            
            #line 59 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 WriteMethods(entityTrackEnum, "onDeleting", "FromDb", ""); 
            
            #line default
            #line hidden
            this.Write("\r\n#pragma mark - Deleted from Local Database\r\n- (void)onEntityDeleted:(id)entity " +
                    "typeOfEntity:(");
            
            #line 62 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));
            
            #line default
            #line hidden
            
            #line 62 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
            this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.Project.EntityTrackEnum));
            
            #line default
            #line hidden
            this.Write(")entityType\r\n{\r\n");
            
            #line 64 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 WriteSwitchStatement(entityTrackEnum, "onDeleted", "FromDb", ""); 
            
            #line default
            #line hidden
            this.Write("}\r\n");
            
            #line 66 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 WriteMethods(entityTrackEnum, "onDeleted", "FromDb", ""); 
            
            #line default
            #line hidden
            this.Write("\r\n#pragma mark - Deleting whole table from Local Database\r\n- (void)onDeletingType" +
                    "OfEntities:(KryEntityType)entityType\r\n{\r\n    ");
            
            #line 71 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 WriteSwitchStatement(entityTrackEnum, "onAll", "EntitiesDeleting", "", false); 
            
            #line default
            #line hidden
            this.Write("}\r\n");
            
            #line 73 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 WriteMethods(entityTrackEnum, "onAll", "EntitiesDeleting", "", false); 
            
            #line default
            #line hidden
            this.Write("\r\n#pragma mark - Deleted whole table from Local Database\r\n- (void)onDeletedTypeOf" +
                    "Entities:(KryEntityType)entityType\r\n{\r\n    ");
            
            #line 78 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 WriteSwitchStatement(entityTrackEnum, "onAll", "EntitiesDeleted", "", false); 
            
            #line default
            #line hidden
            this.Write("}\r\n");
            
            #line 80 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 WriteMethods(entityTrackEnum, "onAll", "EntitiesDeleted", "", false); 
            
            #line default
            #line hidden
            this.Write("\r\n");
            
            #line 82 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 
} 
            
            #line default
            #line hidden
            this.Write("@end\r\n");
            return this.GenerationEnvironment.ToString();
        }
        
        #line 85 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 
private void WriteSwitchStatement(EnumDefinition enumDef, string metdodPrefix, string methodBody, string methodParameter, bool passEntity = true)
{ 
    string suffix = string.IsNullOrEmpty(methodParameter) ? "" : " " + methodParameter;

        
        #line default
        #line hidden
        
        #line 89 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write("    switch (entityType) {\r\n");

        
        #line default
        #line hidden
        
        #line 91 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 
    foreach(var member in enumDef.Members.OrderBy(e => e.Name))
    {
		string entityParam = passEntity ? string.Format(":({0}{1} *)entity", CodeEngine.ClassPrefix, member.Name) : "";
	
        
        #line default
        #line hidden
        
        #line 95 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write("        case ");

        
        #line default
        #line hidden
        
        #line 96 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(CodeEngine.ClassPrefix));

        
        #line default
        #line hidden
        
        #line 96 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(enumDef.Name));

        
        #line default
        #line hidden
        
        #line 96 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Name));

        
        #line default
        #line hidden
        
        #line 96 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(":\r\n            /* ");

        
        #line default
        #line hidden
        
        #line 97 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Name));

        
        #line default
        #line hidden
        
        #line 97 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(" */\r\n//            [self ");

        
        #line default
        #line hidden
        
        #line 98 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(metdodPrefix));

        
        #line default
        #line hidden
        
        #line 98 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Name));

        
        #line default
        #line hidden
        
        #line 98 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(methodBody));

        
        #line default
        #line hidden
        
        #line 98 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(entityParam));

        
        #line default
        #line hidden
        
        #line 98 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(suffix));

        
        #line default
        #line hidden
        
        #line 98 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write("];\r\n            break;\r\n\r\n");

        
        #line default
        #line hidden
        
        #line 101 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 } 
        
        #line default
        #line hidden
        
        #line 101 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write("        default:\r\n            break;\r\n    }\r\n");

        
        #line default
        #line hidden
        
        #line 105 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 
} 
        
        #line default
        #line hidden
        
        #line 107 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"

private void WriteMethods(EnumDefinition enumDef, string metdodPrefix, string methodBody, string methodSuffix, bool passEntity = true)
{ 
        
        #line default
        #line hidden
        
        #line 110 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 
    foreach(var member in enumDef.Members.OrderBy(e => e.Name))
    {
		string entityParam = passEntity ? string.Format(":({0}{1} *){2}", CodeEngine.ClassPrefix, member.Name, member.Name.ToCamelCase()) : "";
	 
        
        #line default
        #line hidden
        
        #line 114 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write("- (void)");

        
        #line default
        #line hidden
        
        #line 115 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(metdodPrefix));

        
        #line default
        #line hidden
        
        #line 115 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(member.Name));

        
        #line default
        #line hidden
        
        #line 115 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(methodBody));

        
        #line default
        #line hidden
        
        #line 115 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(entityParam));

        
        #line default
        #line hidden
        
        #line 115 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(" ");

        
        #line default
        #line hidden
        
        #line 115 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write(this.ToStringHelper.ToStringWithCulture(methodSuffix));

        
        #line default
        #line hidden
        
        #line 115 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
this.Write("\r\n{\r\n    \r\n}\r\n");

        
        #line default
        #line hidden
        
        #line 119 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 } 
        
        #line default
        #line hidden
        
        #line 120 "C:\Users\ozalp\source\repos\OzzCodeGen\OzzCodeGen\CodeEngines\ObjectiveC\Templates\ObjcDbContextCustom.tt"
 
} 
        
        #line default
        #line hidden
    }
    
    #line default
    #line hidden
}
